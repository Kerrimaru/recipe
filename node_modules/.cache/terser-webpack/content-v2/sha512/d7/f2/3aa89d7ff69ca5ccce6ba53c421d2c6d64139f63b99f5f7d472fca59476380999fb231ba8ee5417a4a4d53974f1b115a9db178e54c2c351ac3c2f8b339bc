{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{LS6v:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return auth_component_AuthComponent}));var core=__webpack_require__(\"fXoL\"),auth_service=__webpack_require__(\"qXBG\"),router=__webpack_require__(\"tyNb\"),snack_bar=__webpack_require__(\"dNgK\"),dialog_service=__webpack_require__(\"WN5f\"),common=__webpack_require__(\"ofXK\");let loading_component_LoadingComponent=(()=>{class LoadingComponent{constructor(){this.color=\"#fff\",this.animate=!1,this.size=120}}return LoadingComponent.ɵfac=function(t){return new(t||LoadingComponent)},LoadingComponent.ɵcmp=core.Jb({type:LoadingComponent,selectors:[[\"app-loading\"]],inputs:{color:\"color\",animate:\"animate\",size:\"size\"},decls:9,vars:0,consts:[[1,\"lds-roller\"]],template:function(rf,ctx){1&rf&&(core.Ub(0,\"div\",0),core.Qb(1,\"div\"),core.Qb(2,\"div\"),core.Qb(3,\"div\"),core.Qb(4,\"div\"),core.Qb(5,\"div\"),core.Qb(6,\"div\"),core.Qb(7,\"div\"),core.Qb(8,\"div\"),core.Tb())},styles:['.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px;z-index:100}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:\" \";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#a01313;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-36ms;animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.108s;animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.144s;animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.216s;animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.252s;animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.288s;animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@-webkit-keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),LoadingComponent})();var fesm2015_forms=__webpack_require__(\"3Pt+\");function AuthComponent_img_1_Template(rf,ctx){1&rf&&core.Qb(0,\"img\",13)}function AuthComponent_div_16_Template(rf,ctx){if(1&rf){const _r16=core.Vb();core.Ub(0,\"div\",14),core.Ub(1,\"p\"),core.Ec(2,\"Don't have an account?\"),core.Tb(),core.Ub(3,\"div\"),core.Ub(4,\"p\"),core.Ub(5,\"span\",15),core.cc(\"click\",(function(){return core.wc(_r16),core.gc().toggleLogin()})),core.Ec(6,\" Go to \"),core.Ub(7,\"b\"),core.Ec(8),core.Tb(),core.Tb(),core.Sb(9),core.Ub(10,\"span\",16),core.Ec(11,\"or\"),core.Tb(),core.Ub(12,\"span\",17),core.cc(\"click\",(function(){return core.wc(_r16),core.gc().signInGuest()})),core.Ub(13,\"b\"),core.Ec(14,\"Sign in\"),core.Tb(),core.Ec(15,\" as a guest \"),core.Tb(),core.Rb(),core.Tb(),core.Tb(),core.Tb()}if(2&rf){const ctx_r14=core.gc();core.Db(1),core.Cc(\"opacity\",ctx_r14.isLogin?1:0),core.Db(7),core.Fc(ctx_r14.isLogin?\"Sign up\":\"login\")}}const _c0=function(a0){return{\"auth-dialog\":a0}},_c1=function(a0){return{show:a0}},_c2=function(a0){return{hidden:a0}},_c3=function(a0){return{\"auth-actions\":a0}};let auth_component_AuthComponent=(()=>{class AuthComponent{constructor(authService,router,snackBar,dialog){this.authService=authService,this.router=router,this.snackBar=snackBar,this.dialog=dialog,this.isLogin=!0,this.loading=!1}ngOnInit(){this.dialog.dialogData&&(this.isSignup=this.dialog.dialogData.signup,this.isLogin=!1)}toggleLogin(){this.isLogin=!this.isLogin}onSubmit(form){if(!form.valid)return this.openSnackBar(\"Check your details\");this.loading=!0;const email=form.value.email,password=form.value.password,name=form.value.name,params=this.isLogin?null:{notify:\"welcome\"},data=this.isLogin?null:{name:name};(this.isLogin?this.authService.firebaseLogin(email,password):this.authService.firebaseSignup(email,password,name)).then(res=>{if(\"string\"==typeof res){this.loading=!1;let msg=res;return\"goSignup\"===res&&(this.isLogin=!1,msg=\"Email not found! Please add your name to create an account.\"),this.openSnackBar(msg)}this.dialog.dialogData&&this.dialog.close(name),this.router.navigate([\"/recipes\"],{queryParams:params,state:{data:data}})})}openSnackBar(message,action){this.snackBar.open(message,action,{duration:3e3})}signInGuest(){this.loading=!0,this.authService.guestLogin().then(res=>{\"success\"===res?this.router.navigate([\"/recipes\"],{queryParams:{notify:\"guest\"}}):(this.loading=!1,this.openSnackBar(res))})}}return AuthComponent.ɵfac=function(t){return new(t||AuthComponent)(core.Pb(auth_service.a),core.Pb(router.c),core.Pb(snack_bar.a),core.Pb(dialog_service.a))},AuthComponent.ɵcmp=core.Jb({type:AuthComponent,selectors:[[\"app-auth\"]],decls:17,vars:20,consts:[[1,\"auth-container\",3,\"ngClass\"],[\"class\",\"hole-logo\",\"src\",\"assets/images/logos/hole-logo.png\",4,\"ngIf\"],[1,\"form-container\"],[1,\"loading\",3,\"ngClass\"],[3,\"ngClass\",\"ngSubmit\"],[\"authForm\",\"ngForm\"],[1,\"form-group\"],[\"type\",\"email\",\"id\",\"email\",\"ngModel\",\"\",\"name\",\"email\",\"required\",\"\",\"email\",\"\",1,\"form-control\",3,\"placeholder\"],[\"type\",\"password\",\"id\",\"password\",\"ngModel\",\"\",\"name\",\"password\",\"required\",\"\",\"minlength\",\"6\",1,\"form-control\",3,\"placeholder\"],[\"type\",\"name\",\"id\",\"name\",\"ngModel\",\"\",\"name\",\"name\",\"placeholder\",\"What's your name?\",1,\"form-control\",3,\"required\"],[1,\"actions\",3,\"ngClass\"],[\"type\",\"submit\",\"id\",\"auth-submit\"],[\"class\",\"other-opts\",4,\"ngIf\"],[\"src\",\"assets/images/logos/hole-logo.png\",1,\"hole-logo\"],[1,\"other-opts\"],[\"id\",\"mobile-toggle\",1,\"other-actions\",3,\"click\"],[1,\"mf-or\"],[1,\"other-actions\",3,\"click\"]],template:function(rf,ctx){if(1&rf){const _r18=core.Vb();core.Ub(0,\"div\",0),core.Dc(1,AuthComponent_img_1_Template,1,0,\"img\",1),core.Ub(2,\"div\",2),core.Ub(3,\"div\",3),core.Qb(4,\"app-loading\"),core.Tb(),core.Ub(5,\"form\",4,5),core.cc(\"ngSubmit\",(function(){core.wc(_r18);const _r13=core.tc(6);return ctx.onSubmit(_r13)})),core.Ub(7,\"div\",6),core.Qb(8,\"input\",7),core.Tb(),core.Ub(9,\"div\",6),core.Qb(10,\"input\",8),core.Tb(),core.Ub(11,\"div\",6),core.Qb(12,\"input\",9),core.Tb(),core.Ub(13,\"div\",10),core.Ub(14,\"button\",11),core.Ec(15),core.Tb(),core.Dc(16,AuthComponent_div_16_Template,16,3,\"div\",12),core.Tb(),core.Tb(),core.Tb(),core.Tb()}2&rf&&(core.mc(\"ngClass\",core.pc(12,_c0,ctx.isSignup)),core.Db(1),core.mc(\"ngIf\",!ctx.isSignup),core.Db(2),core.mc(\"ngClass\",core.pc(14,_c1,ctx.loading)),core.Db(2),core.mc(\"ngClass\",core.pc(16,_c2,ctx.loading)),core.Db(3),core.mc(\"placeholder\",ctx.isLogin?\"Email\":\"What's your email?\"),core.Db(2),core.mc(\"placeholder\",ctx.isLogin?\"Password\":\"Choose a password\"),core.Db(1),core.Cc(\"opacity\",ctx.isLogin?0:1),core.Db(1),core.mc(\"required\",!ctx.isLogin),core.Db(1),core.mc(\"ngClass\",core.pc(18,_c3,!ctx.isSignup)),core.Db(2),core.Gc(\" \",ctx.isLogin?\"Sign in\":\"Sign up\",\" \"),core.Db(1),core.mc(\"ngIf\",!ctx.isSignup))},directives:[common.j,common.l,loading_component_LoadingComponent,fesm2015_forms.x,fesm2015_forms.r,fesm2015_forms.s,fesm2015_forms.c,fesm2015_forms.q,fesm2015_forms.t,fesm2015_forms.v,fesm2015_forms.d,fesm2015_forms.m],styles:[\".loading[_ngcontent-%COMP%]{position:absolute;left:50%;top:30%;transform:translate(-50%);text-align:center;display:none}.loading.show[_ngcontent-%COMP%]{display:block}.auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.hole-logo[_ngcontent-%COMP%]{display:block;margin:auto;width:15vw;max-width:140px}.form-container[_ngcontent-%COMP%]{padding:30px}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;top:25%;width:100%}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;text-align:center;display:block;margin:15px auto 0}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:340px;width:80%;border-radius:0;border:none;border-bottom:1px solid #918e8a;text-align:center;background-color:transparent}.actions[_ngcontent-%COMP%]{margin:14px auto;width:100%;flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button#auth-submit[_ngcontent-%COMP%]{border:1px solid #333;color:#333;width:230px;padding:4px;height:auto;font-size:18px;margin:20px auto;background:none;transition:all .5s ease-in-out}.actions[_ngcontent-%COMP%]   button#auth-submit[_ngcontent-%COMP%]:hover{opacity:1}.actions.auth-actions[_ngcontent-%COMP%]   button#auth-submit[_ngcontent-%COMP%]:hover{background-color:#c29f38}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;text-align:center;margin:20px auto auto;font-style:italic;color:#d3d3d3}#login-toggle[_ngcontent-%COMP%]{font-size:12px;font-style:italic}div.other-opts[_ngcontent-%COMP%]{margin-top:20px}div.other-opts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}span.other-actions[_ngcontent-%COMP%]{cursor:pointer;transition:all .5s;color:#382e2e;font-style:normal}span.other-actions[_ngcontent-%COMP%]:hover{color:#c29f38}.mf-or[_ngcontent-%COMP%]{margin:0 7px 0 4px;font-size:14px}.auth-dialog[_ngcontent-%COMP%]{height:auto}.auth-dialog[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{overflow:hidden}.auth-dialog[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid #fff}.auth-dialog[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button#auth-submit[_ngcontent-%COMP%]{margin-bottom:0;margin-top:40px;border:1px solid #fff;color:#fff}\"]}),AuthComponent})()},WN5f:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return dialog_service_DialogService}));var core=__webpack_require__(\"fXoL\"),fesm2015_dialog=__webpack_require__(\"0IaG\"),common=__webpack_require__(\"ofXK\");function AlertComponent_a_1_Template(rf,ctx){if(1&rf){const _r6=core.Vb();core.Ub(0,\"a\",7),core.Ub(1,\"span\",8),core.cc(\"click\",(function(){return core.wc(_r6),core.gc().closeDialog()})),core.Ec(2,\"clear\"),core.Tb(),core.Tb()}}function AlertComponent_h2_3_Template(rf,ctx){if(1&rf&&(core.Ub(0,\"h2\"),core.Ec(1),core.Tb()),2&rf){const ctx_r1=core.gc();core.Db(1),core.Fc(ctx_r1.title)}}function AlertComponent_img_4_Template(rf,ctx){if(1&rf&&core.Qb(0,\"img\",9),2&rf){const ctx_r2=core.gc();core.mc(\"src\",ctx_r2.imagePath,core.yc)}}function AlertComponent_p_5_Template(rf,ctx){1&rf&&core.Qb(0,\"p\",10),2&rf&&core.mc(\"innerHtml\",ctx.$implicit,core.xc)}const _c0=function(a0,a1,a2){return{\"btn-primary\":a0,\"btn-secondary\":a1,\"btn-danger\":a2}};function AlertComponent_div_6_button_1_Template(rf,ctx){if(1&rf){const _r11=core.Vb();core.Ub(0,\"button\",13),core.cc(\"click\",(function(){core.wc(_r11);const action_r9=ctx.$implicit,ctx_r10=core.gc(2);return action_r9.go(ctx_r10.mdDialogRef)})),core.Tb()}if(2&rf){const action_r9=ctx.$implicit;core.mc(\"ngClass\",core.rc(2,_c0,action_r9.primary,!action_r9.primary&&!action_r9.danger,action_r9.danger))(\"innerHtml\",action_r9.text,core.xc)}}function AlertComponent_div_6_Template(rf,ctx){if(1&rf&&(core.Ub(0,\"div\",11),core.Dc(1,AlertComponent_div_6_button_1_Template,1,6,\"button\",12),core.Tb()),2&rf){const ctx_r4=core.gc();core.Db(1),core.mc(\"ngForOf\",ctx_r4.actions)}}let alert_component_AlertComponent=(()=>{class AlertComponent{constructor(dialog,mdDialogRef){this.dialog=dialog,this.mdDialogRef=mdDialogRef,this.data=this.dialog.dialogData,this.title=this.data.title,this.lines=this.data.lines||[],this.actions=this.data.actions||[],this.class=this.data.class,this.hideClose=!1}ngOnInit(){this.imagePath=this.data.image?\"/assets/images/\"+this.data.image:null,console.log(\"img: \",this.imagePath),\"string\"==typeof this.data.lines&&(this.lines=[this.data.lines]),this.actions.forEach((a,i,arr)=>{1===this.actions.length&&\"string\"==typeof a?arr[i]={text:a,primary:!0,go:!0}:2===this.actions.length&&\"string\"==typeof a&&(arr[i]={text:a,primary:1===i,go:0!==i||void 0});const aa=arr[i];if(\"function\"!=typeof aa.go){const result=aa.go;aa.go=()=>{this.dialog.close(result)}}})}closeDialog(){this.dialog.close()}}return AlertComponent.ɵfac=function(t){return new(t||AlertComponent)(core.Pb(dialog_service_DialogService),core.Pb(fesm2015_dialog.c))},AlertComponent.ɵcmp=core.Jb({type:AlertComponent,selectors:[[\"app-alert\"]],decls:7,vars:6,consts:[[1,\"dialog\",\"dialog-simple\",3,\"ngClass\"],[\"class\",\"close-x\",4,\"ngIf\"],[1,\"dialog-content\"],[4,\"ngIf\"],[3,\"src\",4,\"ngIf\"],[3,\"innerHtml\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"dialog-actions\",4,\"ngIf\"],[1,\"close-x\"],[1,\"material-icons\",3,\"click\"],[3,\"src\"],[3,\"innerHtml\"],[1,\"dialog-actions\"],[\"id\",\"actionBtn\",\"class\",\"btn\",3,\"ngClass\",\"innerHtml\",\"click\",4,\"ngFor\",\"ngForOf\"],[\"id\",\"actionBtn\",1,\"btn\",3,\"ngClass\",\"innerHtml\",\"click\"]],template:function(rf,ctx){1&rf&&(core.Ub(0,\"div\",0),core.Dc(1,AlertComponent_a_1_Template,3,0,\"a\",1),core.Ub(2,\"div\",2),core.Dc(3,AlertComponent_h2_3_Template,2,1,\"h2\",3),core.Dc(4,AlertComponent_img_4_Template,1,1,\"img\",4),core.Dc(5,AlertComponent_p_5_Template,1,1,\"p\",5),core.Tb(),core.Dc(6,AlertComponent_div_6_Template,2,1,\"div\",6),core.Tb()),2&rf&&(core.mc(\"ngClass\",ctx.class),core.Db(1),core.mc(\"ngIf\",!ctx.hideClose),core.Db(2),core.mc(\"ngIf\",ctx.title),core.Db(1),core.mc(\"ngIf\",ctx.imagePath),core.Db(1),core.mc(\"ngForOf\",ctx.lines),core.Db(1),core.mc(\"ngIf\",ctx.actions.length))},directives:[common.j,common.l,common.k],styles:[\".dialog[_ngcontent-%COMP%]{max-width:560px;min-width:210px}img[_ngcontent-%COMP%]{width:63px;align-self:center;margin:15px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-actions[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin:15px 10px 0;padding:0 20px;height:40px}h2[_ngcontent-%COMP%]{text-align:center;margin:auto;color:#031a5d}p[_ngcontent-%COMP%]{letter-spacing:.5px;font-family:Rosario;margin:10px auto}.btn-danger[_ngcontent-%COMP%]{background-color:rgba(255,0,0,.27);border-color:rgba(255,0,0,0)}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ffd7d5;border-color:#ffd7d5}.close-x[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px;cursor:pointer}\"]}),AlertComponent})();var takeWhile=__webpack_require__(\"GJmQ\");let dialog_service_DialogService=(()=>{class DialogService{constructor(mdDialog){this.mdDialog=mdDialog,this.dialogStack=[]}show(component,data,config){this.dialogData=data;const dialogRef=this.mdDialog.open(component,config);return this.current=dialogRef,this.dialogStack.push(dialogRef),dialogRef.afterClosed().subscribe(()=>{if(1===this.dialogStack.length)this.dialogStack=[],this.current=null,this.dialogData=null;else{const index=this.dialogStack.indexOf(dialogRef);this.dialogStack.splice(index,1),this.current=this.dialogStack[this.dialogStack.length-1]}}),dialogRef}close(result){this.current.close(result),this.dialogData=null}alert(data){console.log(\"img: \",data);const dialog=this.show(alert_component_AlertComponent,data,{disableClose:!0});return this.observeDialog(dialog)}observeDialog(dialog){return dialog.afterClosed().pipe(Object(takeWhile.a)(result=>void 0!==result))}}return DialogService.ɵfac=function(t){return new(t||DialogService)(core.Yb(fesm2015_dialog.a))},DialogService.ɵprov=core.Lb({token:DialogService,factory:DialogService.ɵfac,providedIn:\"root\"}),DialogService})()}}]);","extractedComments":[]}