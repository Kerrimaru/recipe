<div class="recipe-list-container">
  <div
    class="search"
    *ngIf="isShowFavourites ? favouritesArr.length : recipes.length"
    [ngClass]="{ expanded: searchOn, sticky: maxScroll }"
  >
    <input
      *ngIf="searchOn"
      [ngModelOptions]="{ standalone: true }"
      type="text"
      placeholder="Search"
      [(ngModel)]="searchTerm"
      (blur)="searchBlur()"
    />
    <span class="material-icons" (click)="searchOn = true">search</span>
  </div>

  <div class="recipe-list" *ngIf="(isShowFavourites ? favouritesArr.length : recipes.length) && !loading">
    <ng-container *ngFor="let recipe of recipes | recipeFilter: searchTerm; index as index">
      <div class="rec-container">
        <app-recipe-item
          *ngIf="isShowFavourites ? (recipe | arrayIncludes: favouritesArr:'key') : recipe"
          class="recipe-item"
          [recipe]="recipe"
          [index]="index"
          [showFavouriteIcon]="!isShowFavourites"
          [isFavourite]="!isShowFavourites ? (recipe.key | favourite: favouritesArr) : null"
          (favouriteEmitter)="favourite(recipe)"
          #elRef
        ></app-recipe-item>
        <!-- disabled -->
        <!-- [ngClass]="{
        selected: selectedRecipe === recipe,
        grow: selectedRecipe !== recipe,
        shrink: selectedRecipe === recipe
      }"
      (click)="toggleRecipe(recipe, elRef)" -->
        <!-- <div class="recipe-detail-cont grow" *ngIf="recipe === selectedRecipe" #recipeDetail>
        <span class="material-icons" (click)="toggleRecipe(recipe, recipeDetail)">expand_less</span>
        <app-recipe-detail [recipeInput]="recipe"></app-recipe-detail>
      </div> -->
      </div>
    </ng-container>
  </div>

  <div class="scroll-top" [ngStyle]="{ opacity: maxScroll ? 1 : 0 }">
    <span *ngIf="maxScroll" (click)="scroll()" class="material-icons">keyboard_arrow_up</span>
  </div>

  <div class="empty" *ngIf="(isShowFavourites ? !favouritesArr.length : !recipes.length) && !loading">
    <img src="assets/images/icons/bubbling-pot.png" />
    <h4>There's nothing here yet!</h4>
    <h4>Why not try something new, you might find a favourite?</h4>
    <button *ngIf="isShowFavourites && recipes.length" (click)="randomRecipe()">Get inspired</button>
  </div>

  <!--   
  <app-recipe-item
    class="recipe-item"
    *ngFor="let recipe of recipes | arrayIncludes: favouritesArr:'key' | recipeFilter: searchTerm; index as index"
    [recipe]="recipe"
    [index]="index"
  ></app-recipe-item> 
--></div>
